<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="keyword" content="二分之一,web前端,前端博客,树莓派,RaspberryPi,html5,css3,as3,javascript">
  <meta name="description" content="二分之一博客是一个关注web前端及游戏前端的技术博客">
  <title>html5 - 二分之一 - Just Jason's Blog</title>
  <link rel="stylesheet" type="text/css" href="/assets/css/style.css?version=20140909" />
  <link rel="stylesheet" type="text/css" href="/assets/css/highlight/pojoaque.css?version=20140909" />
  <link rel="stylesheet" type="text/css" href="http://fonts.useso.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
  <!--[if lt IE 9]><script src="/assets/js/html5.js?version=20140909"></script><![endif]-->
</head>

<body>
<div class="toolbar">
    <div class="nav-wrapper clearfix">
        <ul class="nav-list">
            <li>
                <a href="/tag/Unity3D">Unity3D</a>
            </li>
            <li>
                <a href="/tag/javascript">Javascript</a>
            </li>
            <li>
                <a href="/tag/NodeJs">NodeJs</a>
            </li>
            <li>
                <a href="/tag/html5">Html5</a>
            </li>
            <li>
                <a href="/tag/RaspberryPi">Raspberry Pi</a>
            </li>
            <li>
                <a href="/tag/metalsmith">Metalsmith</a>
            </li>
        </ul>

        <ul class="nav-list menu">
            <li>
                <a href="/about.html">关于我</a>
            </li>
            <li>
                <a href="/mobile/">
                    <i class="mobile_icon"></i><span class="mobile_msg">手机访问</span>
                </a>
            </li>
        </ul>
    </div>
</div>

<header class="top-header">
	<section>
    	<a href="/" class="logo"></a>
        <h1 class="blog-name">二分之一</h1>
        <h2 class="blog-description">Just Jason's Blog</h2>
    </section>
</header>


<div class="wrapper">

<header class="tag-archive-header">
    <h1>html5</h1>
</header>

    <nav role="navigation" class="pagination">
        <a href="/tag/html5/" class="newer-posts">← Newer Posts</a>
        
    	<span class="page-number">Page 2 of 2</span>
        
	</nav>


    <article class="post">
        <header class="post-header">
            <span class="post-meta">
                <time datetime="2012年3月21日">2012年3月21日</time>
                <em>on</em>
                <a href="/tag/html5">html5</a>
                ,
                <a href="/tag/canvas">canvas</a>
            </span>
            <h2><a href="/post/html5-yu-gang">html5鱼缸DEMO（基于ocanvas）</a></h2>
        </header>
        <p>看了一下ocanvas的api，但不能验证其实用性，</p>
<p>花了点时间写了一个简单的鱼缸DEMO。发现框架有时控制不够灵活，原生的HTML5 canvas接口也蛮好用的。</p>
<p>在线DEMO：<a href="http://www.2fz1.com/demo/?pos=2">http://www.2fz1.com/demo/?pos=2</a></p>
<p>ocanvas框架官网：<a href="http://www.ocanvas.org">http://www.ocanvas.org</a></p>
<p>本DEMO素材来源于微软的一个HTML5测试用例。</p>
<p>鱼缸DEMO中，鱼的轨迹没有时间细想，简单的实现了一下。</p>

        <p><a href="/post/html5-yu-gang" rel="nofollow" class="read-more">Read more »</a></p>
    </article>
    <article class="post">
        <header class="post-header">
            <span class="post-meta">
                <time datetime="2012年3月20日">2012年3月20日</time>
                <em>on</em>
                <a href="/tag/html5">html5</a>
                ,
                <a href="/tag/canvas">canvas</a>
            </span>
            <h2><a href="/post/canvas-loading-icon">图片资源加载类及canvas loading icon</a></h2>
        </header>
        <p>Load.js类及DEMO下载：<a href="/assets/upload/canvas_loading_icon_demo.zip" title="demo">demo</a></p>
<p>在线DEMO：<a href="http://www.2fz1.com/demo/?pos=1">http://www.2fz1.com/demo/?pos=1</a></p>
<p>默认效果图：</p>
<p><img src="/assets/upload/20120320110407.jpg" alt=""></p>
<h4 id="-">一、基础用法：</h4>
<p>引入Load.js文件到页面。</p>
<p>1、【可选】首先设置loading icon的canvas id；如不需要显示loading icon，可以不设置</p>
<pre><code class="hljs javascript"><span class="hljs-tag">Load</span><span class="hljs-class">.setLoadIcon</span>(<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">id</span>:<span class="hljs-value"><span class="hljs-string">"loadicon"</span>
</span></span></span>});
</code></pre>
<p>2、调用图片加载方法</p>
<pre><code class="hljs javascript">Load.loadImage({
    list:[{id:<span class="hljs-string">""</span>,src:<span class="hljs-string">""</span>}], <span class="hljs-comment">//资源列表，Array</span>
    onload:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"单个资源完成："</span>+data.src+<span class="hljs-string">"；其它信息："</span>+data.msg);
    },
    oncomplete:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"加载完成，总资源数量："</span>+data.imgLen+<span class="hljs-string">"；出错个数："</span>+data.imgErrLen);
    },
    onerror:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"加载出错："</span>+data.msg);
    },
    onprogress:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"进度："</span>+<span class="hljs-built_in">Math</span>.round(data.loadImgLen/data.imgLen*<span class="hljs-number">100</span>)+<span class="hljs-string">"%；当前资源："</span>+data.src);
    },
    showLoadIcon:<span class="hljs-literal">true</span>
});
</code></pre>
<h4 id="-loading-icon-">二、loading icon自定义样式</h4>
<pre><code class="hljs javascript">Load.setLoadIcon({
<span class="hljs-label">    id:</span><span class="hljs-string">"loadicon"</span>,
<span class="hljs-label">    loadTextColor:</span><span class="hljs-string">"#ffffff"</span>,
<span class="hljs-label">    loadTextAlpha:</span><span class="hljs-number">1</span>,
<span class="hljs-label">    loadColor:</span><span class="hljs-string">"#ffffff"</span>,
<span class="hljs-label">    loadAlpha:</span><span class="hljs-number">1</span>,
<span class="hljs-label">    focusColor:</span><span class="hljs-string">"#ff0000"</span>
});
</code></pre>
<p>效果图：</p>
<p><img src="/assets/upload/20120320110431.jpg" alt=""></p>
<p>完整设置示例：</p>
<pre><code class="hljs javascript">Load.setLoadIcon({
<span class="hljs-label">    id:</span><span class="hljs-string">"loadicon"</span>, <span class="hljs-comment">//canvas id [必选，下面的参数都为可选]</span>
<span class="hljs-label">    loadTextColor:</span><span class="hljs-string">"#ffffff"</span>, <span class="hljs-comment">//百分比进度文字颜色</span>
<span class="hljs-label">    loadTextAlpha:</span><span class="hljs-number">1</span>, <span class="hljs-comment">//百分比进度文字颜色透明度[0-1]</span>
<span class="hljs-label">    loadColor:</span><span class="hljs-string">"#ffffff"</span>, <span class="hljs-comment">//加载背景圆颜色</span>
<span class="hljs-label">    loadAlpha:</span><span class="hljs-number">1</span>, <span class="hljs-comment">//加载背景圆颜色透明度[0-1]</span>
<span class="hljs-label">    focusColor:</span><span class="hljs-string">"#ff0000"</span>, <span class="hljs-comment">//焦点圆颜色</span>
<span class="hljs-label">    width:</span><span class="hljs-number">60</span>, <span class="hljs-comment">//icon宽</span>
<span class="hljs-label">    height:</span><span class="hljs-number">60</span>, <span class="hljs-comment">//icon高，请和宽保持一致</span>
<span class="hljs-label">    circleR:</span><span class="hljs-number">4</span>, <span class="hljs-comment">//小圆的半径</span>
<span class="hljs-label">    circleCount:</span><span class="hljs-number">10</span>, <span class="hljs-comment">//小圆的个数</span>
<span class="hljs-label">    showLoadText:</span><span class="hljs-literal">true</span>, <span class="hljs-comment">//是否显示百分比进度文字</span>
<span class="hljs-label">    loadTextSize:</span><span class="hljs-number">16</span> <span class="hljs-comment">//进度文字尺寸,px</span>
});
</code></pre>

        <p><a href="/post/canvas-loading-icon" rel="nofollow" class="read-more">Read more »</a></p>
    </article>
    <article class="post">
        <header class="post-header">
            <span class="post-meta">
                <time datetime="2012年3月11日">2012年3月11日</time>
                <em>on</em>
                <a href="/tag/html5">html5</a>
            </span>
            <h2><a href="/post/html5-tui-hua-pen">HTML5游戏入门DEMO【种花女孩推花盆】</a></h2>
        </header>
        <p>小试牛刀，周末用了一天时间，写了一个简单的”HTML5游戏入门DEMO”。</p>
<p>【种花女孩推花盆】创意源于推箱子，是一个flash的小游戏，大家可以先去体验一下flash版的。</p>
<p>游戏比较简单，不使用html5也可以实现，canvas在这个游戏里面有一个大材小用，但姑且也尝一下鲜，就当学以致用。</p>
<p>最大的感受是，尽管HTML5的大部份知识点掌握了，但实现开发中，才发现各种问题，还是要多实际开发。</p>
<p>在线演示地址：<a href="http://www.2fz1.com/demo/">http://www.2fz1.com/demo/</a></p>
<p>源码我就不打包下载了，没有压缩，很简单，直接查看页面源代码吧。</p>
<p><img src="/assets/upload/20120311183917-300x178.png" alt=""></p>

        <p><a href="/post/html5-tui-hua-pen" rel="nofollow" class="read-more">Read more »</a></p>
    </article>
    <article class="post">
        <header class="post-header">
            <span class="post-meta">
                <time datetime="2012年3月8日">2012年3月8日</time>
                <em>on</em>
                <a href="/tag/html5">html5</a>
            </span>
            <h2><a href="/post/html5-canvas-linewidth">html5 canvas线宽（lineWidth）引起的坐标不准问题</a></h2>
        </header>
        <p><strong>线宽API：</strong></p>
<p><code>context.lineWidth[=value]</code> //返回或设置线段的线宽，非大于0的值被忽略；默认值为1.0；</p>
<p>线宽是指给定路径的中心到两边的粗细。换句话说就是在路径的两边各绘制线宽的一半。因为画布的坐标并不和像素直接对应，当需要获得精确的水平或垂直线的时候要特别注意。</p>
<p>想要获得精确的线条，必须对线条是如何描绘出来的有所理解。见下图，用网格来代表 canvas 的坐标格，每一格对应屏幕上一个像素点。在第一个图中，填充了 (2,1) 至 (5,5) 的矩形，整个区域的边界刚好落在像素边缘上，这样就可以得到的矩形有着清晰的边缘。</p>
<p><img src="/assets/upload/20120308174133.jpg" alt=""></p>
<p>如果你想要绘制一条从 (3,1) 到 (3,5)，宽度是 1.0 的线条，你会得到像第二幅图一样的结果。实际填充区域（深蓝色部分）仅仅延伸至路径两旁各一半像素。而这半个像素又会以近似的方式进行渲染，这意味着那些像素只是部分着色，结果就是以实际笔触颜色一半色调的颜色来填充整个区域（浅蓝和深蓝的部分）。</p>
<p>要解决这个问题，你必须对路径施以更加精确的控制。已知粗 1.0 的线条会在路径两边各延伸半像素，那么像第三幅图那样绘制从 (3.5,1) 到 (3.5,5) 的线条，其边缘正好落在像素边界，填充出来就是准确的宽为 1.0 的线条。</p>
<p>对于那些宽度为偶数的线条，每一边的像素数都是整数，那么你想要其路径是落在像素点之间 (如那从 (3,1) 到 (3,5)) 而不是在像素点的中间。如果不是的话，端点上同样会出现半渲染的像素点。</p>

        <p><a href="/post/html5-canvas-linewidth" rel="nofollow" class="read-more">Read more »</a></p>
    </article>
    <article class="post">
        <header class="post-header">
            <span class="post-meta">
                <time datetime="2012年3月2日">2012年3月2日</time>
                <em>on</em>
                <a href="/tag/javascript">javascript</a>
                ,
                <a href="/tag/html5">html5</a>
            </span>
            <h2><a href="/post/html5-canvas-javascript-box2d-js">html5 canvas javascript游戏开发物理引擎box2d-js学习资料</a></h2>
        </header>
        <p>box2作为一个优秀的物理引擎，目前被应用在很多游戏中游戏。什么box2d会被大众接受并得到广泛使用呢，首先给大家介绍一下box2d的优点：</p>
<p>市场的游戏大部分都用C++编写，而box2d的原始版本就是用C++实现的，大家只需下载CPP文件，并把它们加入自己的工程下刚可编译，在引入你创建物理模型头文件的情况下，你就可以实例化可以模拟模型运行的对象和场景了。当然box2d其他语言的用法也大同小意。现在有多种语言实现的box2d,包括C++,Java,javascript,flash,也有iphone版和Android版;在开发游戏过程中，利用此物理引擎开发会比较简单，学会了创建物理世界后，加上相应的物体就可以实现物理模仿。而box2d不仅支持的版本比较多，并且入手比较快，参考其用户手册可以很快的实现基本的物理世界。Box2d一个开源项目有很多专业牛人在维护，还有论坛帮助解答，你同时也可以加入他们的加发中。Box2D 是一个用于游戏的 2D 刚体仿真库。程序员可以在他们的游戏里使用它，它可以使物体的运动更加可信，让世界看起来更具交互性。从游戏的视角来看，物理引擎就是一个程序性动画(proceduralanimation)的系统，而不是由动画师去移动你的物体。你可以让牛顿来做导演。</p>
<p>1、源码及DEMO：</p>
<p><a href="http://code.google.com/p/box2dweb/">http://code.google.com/p/box2dweb/</a></p>
<p>2、微软官方的一个DEMO</p>
<p><a href="http://ie.microsoft.com/testdrive/Graphics/CanvasPinball/Default.html">http://ie.microsoft.com/testdrive/Graphics/CanvasPinball/Default.html</a></p>
<p>3、初级入门资料：</p>
<p><a href="http://www.linuxgraphics.cn/physics/box2d_js_overview.html">http://www.linuxgraphics.cn/physics/box2d_js_overview.html</a></p>
<p><a href="http://box2d-js.sourceforge.net/">http://box2d-js.sourceforge.net/</a>（英文）</p>
<p><a href="http://directguo.com/blog/index.php/2010/05/box2d_js_tutorials/">http://directguo.com/blog/index.php/2010/05/box2d_js_tutorials/</a></p>
<p>4、Box2d官方网站：<a href="http://www.box2d.org/">http://www.box2d.org/</a></p>
<p>5、Google Demo：</p>
<p><a href="http://mrdoob.com/projects/chromeexperiments/google_gravity/">http://mrdoob.com/projects/chromeexperiments/google_gravity/</a></p>
<p><a href="http://mrdoob.com/projects/chromeexperiments/ball_pool/">http://mrdoob.com/projects/chromeexperiments/ball_pool/</a></p>

        <p><a href="/post/html5-canvas-javascript-box2d-js" rel="nofollow" class="read-more">Read more »</a></p>
    </article>
    <article class="post">
        <header class="post-header">
            <span class="post-meta">
                <time datetime="2012年2月23日">2012年2月23日</time>
                <em>on</em>
                <a href="/tag/javascript">javascript</a>
                ,
                <a href="/tag/html5">html5</a>
            </span>
            <h2><a href="/post/html5-quan-ping">原生javascript API实现HTML5浏览器全屏</a></h2>
        </header>
        <p>众说周知，html5的<code>&lt;video&gt;</code>标签是一个激动人心的技术革新，但同时因不能全屏而被诟病。</p>
<p>这一现状已经被改变，并将被越来越多的浏览器所支持。Firefox 10 的发布就开始支持全屏API，除FireFox 10外，Chrome 15与Safari 5.1或更高版本的浏览器也已经支持原生全屏API。</p>
<p>值得一提的差异，全屏退出，FireFox和Safari都是使用“ESC”键退出，而Chrome 15却采用“F11”退出全屏，这些微小的差别，却会给用户带来困扰，愿Chrome能改回“ESC”退出。</p>
<p>在2011年10月15日，W3C发布了一份全屏API草案（由Opera团队的一名成员编写），它跟Mozilla的草案有两个主要的不同点：</p>
<ul>
<li>1、Mozilla/Webkit使用大写字母’S&#39;（FullScreen），但W3C则不是（Fullscreen）；</li>
<li>2、Mozilla/Webkit使用cancelFullScreen，W3C使用exitFullscreen。</li>
</ul>
<h4 id="-api-">一、自定义API对象，以便兼容使用</h4>
<pre><code class="hljs javascript"><span class="hljs-keyword">var</span> fullScreenApi = {
    supportsFullScreen: <span class="hljs-literal">false</span>, <span class="hljs-comment">//是否支持全屏</span>
    isFullScreen: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }, <span class="hljs-comment">//是否全屏状态</span>
    requestFullScreen: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{}, <span class="hljs-comment">//触发全屏</span>
    cancelFullScreen: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{}, <span class="hljs-comment">//取消全屏</span>
    fullScreenEventName: <span class="hljs-string">''</span>, <span class="hljs-comment">//全屏事件名</span>
    prefix: <span class="hljs-string">''</span> <span class="hljs-comment">//浏览器前缀</span>
}
<span class="hljs-keyword">var</span> browserPrefixes = <span class="hljs-string">'webkit moz o ms khtml'</span>.split(<span class="hljs-string">' '</span>); <span class="hljs-comment">//浏览器前缀列表</span>
</code></pre>

        <p><a href="/post/html5-quan-ping" rel="nofollow" class="read-more">Read more »</a></p>
    </article>
    <article class="post">
        <header class="post-header">
            <span class="post-meta">
                <time datetime="2012年2月20日">2012年2月20日</time>
                <em>on</em>
                <a href="/tag/javascript">javascript</a>
                ,
                <a href="/tag/html5">html5</a>
            </span>
            <h2><a href="/post/html5-userdata-localstage">浏览器本地存储兼容方案（html5、userData）</a></h2>
        </header>
        <h4 id="-">一、本地存储概况</h4>
<p>目前支持以下方法，实现浏览器端的本地存储：</p>
<h5 id="1-cookie-">1、cookie ;</h5>
<p>每个cookie的大小不能超过4K。</p>
<p>Cookie数：</p>
<ul>
<li>IE7跟IE8限制为50个。</li>
<li>Firefox限制为50个。</li>
<li>Opera限制30个</li>
<li>Safari/Chrome/WebKit没有限制</li>
</ul>
<p>每次的http请求，cookie都会包含在包头里发送给服务器，cookie在http请求中是明文传递的。</p>
<h5 id="2-flash-lso-">2、flash LSO ;</h5>
<p>local shared objects (LSOs).</p>
<p>Flash的LSOs 就如同Web浏览器中的cookies，它们被一些开发者称为“超级cookies”，因为LSOs可以存储大量数据，且存储和读取的都是原生的ActionScript数据类型。LSOs 默认的空间大小100 KB， 用户可以通过Flash Player’s Settings Manager控制LSOs的使用空间大小，来严格限制被使用的空间。</p>
<h5 id="3-userdata-">3、userData ；</h5>
<p>是微软为IE专门在系统中开辟的一块存储空间，所以说只支持Windows+IE的组合，实际测试在2000（IE5.5）、XP（IE6、IE7），Vista（IE7）下都是可以正常使用的。</p>
<p>单个文件的大小限制是128KB，一个域名下总共可以保存1024KB的文件，文件个数应该没有限制。在受限站点里这两个值分别是64KB和640KB，所以如果考虑到各种情况的话，单个文件最好能控制64KB以下。</p>

        <p><a href="/post/html5-userdata-localstage" rel="nofollow" class="read-more">Read more »</a></p>
    </article>
    <article class="post">
        <header class="post-header">
            <span class="post-meta">
                <time datetime="2012年2月4日">2012年2月4日</time>
                <em>on</em>
                <a href="/tag/html5">html5</a>
            </span>
            <h2><a href="/post/casualjs-zhong-wen-wen-dang">CasualJs中文在线文档 – HTML5 Canvas开发框架</a></h2>
        </header>
        <p>CasualJS Framework是根据ActionScript3.0的架构开发的一套适用于HTML5 Canvas的面向对象的开发框架。虽然Canvas提供了强大的绘图功能，但满足不了高级开发的需要。利用CasualJS的显示对象架构及渲染机制， 你可以轻松的在Canvas中操控各种位图、图形、影片剪辑等显示对象，愉快开发。</p>
<p>方便flash开发人员迅速上手HTML5开发。</p>
<p>框架特性：</p>
<ul>
<li>类似AS3的显示对象列表结构封装</li>
<li>基于帧的显示对象渲染机制</li>
<li>基于帧的MovieClip动画片段实现</li>
<li>内置简单的事件模型</li>
</ul>
<p>源码下载：<a href="http://code.google.com/p/casualjs/">http://code.google.com/p/casualjs/</a></p>
<p>由于原文档是英文的，Jason(<a href="http://www.2fz1.com">2fz1.com</a>)简单的译了一下中文文档。</p>
<p>CasualJs中文在线文档：<a href="http://www.2fz1.com/casualjs/">http://www.2fz1.com/casualjs/</a></p>

        <p><a href="/post/casualjs-zhong-wen-wen-dang" rel="nofollow" class="read-more">Read more »</a></p>
    </article>

    <nav role="navigation" class="pagination">
        <a href="/tag/html5/" class="newer-posts">← Newer Posts</a>
        
    	<span class="page-number">Page 2 of 2</span>
        
	</nav>


</div>

<footer>
	<p class="copyright">&copy; 2014 <a href="/">Jason’s Blog</a>. All rights reserved.</p>
    <p>Proudly published with <a href="http://metalsmith.io/" target="_blank">Metalsmith</a></p>
    <p><a href="http://www.miibeian.gov.cn/" target="_blank">闽ICP备09029032号-1</a> |
        <script language="javascript" type="text/javascript" src="http://js.users.51.la/6883474.js"></script></p>
</footer>

<script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="/assets/uitotop/js/easing.js?version=20140909"></script>
<script type="text/javascript" src="/assets/uitotop/js/jquery.ui.totop.min.js?version=20140909"></script>
<script src="/assets/js/app.js?version=20140909"></script>
<!--[if lt IE 8]><script src="/assets/js/noLtIE8.js?version=20140909"></script><![endif]-->

</body>
</html>
